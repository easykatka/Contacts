(this.webpackJsonpcontacts=this.webpackJsonpcontacts||[]).push([[0],{102:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n,c,r,i=a(2),s=a(0),o=a(13),l=a.n(o),j=(a(102),a(20)),d=a(166),b=a(159),u=a(167),O=a(147),h=a(174),x=a(171),m=a(153),f=a(113),g=a(154),p=a(155),C=a(156),y=a(157),v=a(176),N=a(158),w=a(177),k=a(114),B=a(152),S=a(64),F=a(63),E=a(8),T=a(78),M=a.n(T),I=a(173),L=a(175),A=a(149),P=Object(O.a)((function(e){return Object(h.a)({root:{cursor:"pointer",textTransform:"none",color:"dodgerBlue",whiteSpace:"pre-line",textAlign:"left"},icon:{marginRight:e.spacing(1)},black:{color:"black",fontWeight:400}})})),z="copy",V="copied",W=(n={},Object(E.a)(n,z,"Copy"),Object(E.a)(n,V,"Copied"),n),_=function(e){var t=e.blackcolor,a=e.text,n=Object(I.a)(),c=Object(j.a)(n,2)[1],r=P(),o=Object(s.useState)(z),l=Object(j.a)(o,2),d=l[0],b=l[1],u=Object(s.useCallback)((function(){c(a),b(V)}),[c,a]),O=Object(s.useCallback)((function(){b(z)}),[b]);return Object(i.jsx)(A.a,{onClickAway:O,children:Object(i.jsx)(L.a,{title:W[d],arrow:!0,placement:"top",children:Object(i.jsxs)(B.a,{className:r.root,onClick:u,children:[Object(i.jsx)(M.a,{className:r.icon}),Object(i.jsx)("div",{className:t?"".concat(r.black):null,children:a})]})})})},R="table",G="grid",H="all",D="male",J="female",U="AU",Z="BR",K="CA",q="CH",Q="DE",X="DK",Y="ES",$="FI",ee="FR",te="GB",ae="IE",ne="IR",ce="NO",re="NL",ie="NZ",se="TR",oe="US",le=(c={},Object(E.a)(c,U,"Australian"),Object(E.a)(c,Z,"Brazilian"),Object(E.a)(c,K,"Canadian"),Object(E.a)(c,q,"Chinese"),Object(E.a)(c,Q,"German"),Object(E.a)(c,X,"Danish"),Object(E.a)(c,Y,"Spanish"),Object(E.a)(c,$,"Finn"),Object(E.a)(c,ee,"French"),Object(E.a)(c,te,"British"),Object(E.a)(c,ae,"Irish"),Object(E.a)(c,ne,"Iranian"),Object(E.a)(c,ce,"Norwegian"),Object(E.a)(c,re,"Netherlander"),Object(E.a)(c,ie,"New Zealander"),Object(E.a)(c,se,"Turkish"),Object(E.a)(c,oe,"American"),c),je=(r={},Object(E.a)(r,U,"#9F1B69"),Object(E.a)(r,Z,"#E864B2"),Object(E.a)(r,K,"#4461EC"),Object(E.a)(r,q,"#51C453"),Object(E.a)(r,Q,"#33C5C9"),Object(E.a)(r,X,"#F98C39"),Object(E.a)(r,Y,"#FA7F56"),Object(E.a)(r,$,"#2B94FF"),Object(E.a)(r,ee,"#9F1B69"),Object(E.a)(r,te,"#E864B2"),Object(E.a)(r,ae,"#4461EC"),Object(E.a)(r,ne,"#51C453"),Object(E.a)(r,ce,"#33C5C9"),Object(E.a)(r,re,"#F98C39"),Object(E.a)(r,ie,"#FA7F56"),Object(E.a)(r,se,"#2B94FF"),Object(E.a)(r,oe,"#9F1B69"),r),de=a(67),be=a.n(de),ue=a(79),Oe=a(80),he=a(81),xe=a(27),me=new(function(){function e(){var t=this;Object(Oe.a)(this,e),this.users=[],this.isLoading=!0,this.isError=!1,this.filter={searchText:"",gender:H,nationality:""},this.dataViewMode=localStorage.getItem("dataViewMode")||R,this.currentPage=1,this.orderBy={order:"",hideSortIcon:!1},this.getContacts=Object(ue.a)(be.a.mark((function e(){var a,n,c;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,fetch("https://randomuser.me/api/?results=50");case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,c=n.results,!n.error){e.next=12;break}throw new Error;case 12:Object(xe.d)((function(){t.users=c,t.isError=!1})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Object(xe.d)((function(){return t.isError=!0}));case 18:return e.prev=18,Object(xe.d)((function(){return t.isLoading=!1})),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,15,18,21]])}))),Object(xe.c)(this)}return Object(he.a)(e,[{key:"setCurrentPage",value:function(e){this.currentPage=e}},{key:"setSearchText",value:function(e){this.filter.searchText=e}},{key:"setOrderBy",value:function(e,t){this.orderBy.order=e,this.orderBy.hideSortIcon=t}},{key:"setGender",value:function(e){this.filter.gender=e}},{key:"setNat",value:function(e){this.filter.nationality=e}},{key:"setViewMode",value:function(e){this.dataViewMode=e}}]),e}()),fe=Object(O.a)((function(e){return{table:{},row:{"&>*:not(img)":{padding:e.spacing(.5),marginLeft:e.spacing(1)}},small:{borderRadius:"50%"},name:{color:"dodgerBlue"},nat:{textTransform:"none",fontSize:11,minWidth:e.spacing(10)}}})),ge=function(e){var t=e.data,a=e.orderHandler,n=fe();return Object(i.jsx)(m.a,{component:f.a,"data-testid":"contacts-table-container",children:Object(i.jsxs)(g.a,{className:n.table,"aria-label":"contacts table",children:[Object(i.jsx)(p.a,{children:Object(i.jsxs)(C.a,{children:[Object(i.jsx)(y.a,{children:"Avatar"}),Object(i.jsxs)(y.a,{children:[" ",Object(i.jsx)(v.a,{onClick:a,hideSortIcon:me.orderBy.hideSortIcon,direction:me.orderBy.order||"asc",children:"Full name"})]}),Object(i.jsx)(y.a,{children:"Birthday"}),Object(i.jsx)(y.a,{children:"Email"}),Object(i.jsx)(y.a,{children:"Phone"}),Object(i.jsx)(y.a,{children:"Location"}),Object(i.jsx)(y.a,{children:"Nationality"})]})}),Object(i.jsx)(N.a,{children:t.map((function(e){return Object(i.jsxs)(C.a,{hover:!0,size:"small",className:n.row,children:[Object(i.jsx)(y.a,{children:Object(i.jsx)(w.a,{className:n.small,alt:"",src:e.picture.thumbnail})}),Object(i.jsx)(y.a,{children:Object(i.jsx)(k.a,{className:n.name,children:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last)})}),Object(i.jsxs)(y.a,{children:[Object(i.jsxs)(k.a,{children:[Object(S.a)(Object(F.a)(e.dob.date),"MM/dd/yyyy")," "]}),Object(i.jsx)(k.a,{children:"".concat(e.dob.age," years")})]}),Object(i.jsx)(y.a,{children:Object(i.jsx)(_,{text:e.email})}),Object(i.jsx)(y.a,{children:Object(i.jsx)(_,{text:e.phone})}),Object(i.jsx)(y.a,{children:Object(i.jsx)(_,{blackcolor:!0,text:"/".concat(e.location.country,"/ \n\t\t\t   ").concat(e.location.street.name," ").concat(e.location.street.number)})}),Object(i.jsx)(y.a,{align:"right",children:Object(i.jsx)(B.a,{variant:"outlined",style:{borderColor:je[e.nat],color:je[e.nat]},onClick:function(){return me.setNat(le[e.nat])},className:n.nat,children:Object(i.jsx)("span",{className:n.nat,children:le[e.nat]})})})]},e.login.uuid)}))})]})})},pe=a(178),Ce=a(160),ye=a(161),ve=a(180),Ne=a(168),we=a(181),ke=a(82),Be=a.n(ke),Se=a(170),Fe=Object(O.a)((function(e){return{searchBlock:{marginTop:e.spacing(1),paddingBottom:e.spacing(1)},input_item:{maxHeight:e.spacing(5),minWidth:e.spacing(40),width:"100%"},clear_btn:{height:e.spacing(5)},paper:{width:"100%",padding:e.spacing(2)}}})),Ee=Object(Se.a)((function(){var e=Fe(),t=me.filter;return Object(i.jsx)(b.a,{container:!0,className:e.searchBlock,children:Object(i.jsx)(f.a,{variant:"outlined",className:e.paper,children:Object(i.jsxs)(b.a,{container:!0,spacing:3,children:[Object(i.jsx)(b.a,{item:!0,xs:12,sm:12,md:6,xl:4,children:Object(i.jsx)(pe.a,{value:t.searchText,onChange:function(e){return me.setSearchText(e.target.value)},className:e.input_item,placeholder:"Search by name",endAdornment:Object(i.jsx)(Ce.a,{children:Object(i.jsx)(Be.a,{})})})}),Object(i.jsx)(b.a,{item:!0,xs:12,sm:12,md:6,xl:4,children:Object(i.jsxs)(ye.a,{variant:"outlined",className:e.input_item,children:[Object(i.jsx)(ve.a,{id:"gender",children:"Gender"}),Object(i.jsxs)(Ne.a,{className:e.input_item,id:"gender",label:"gender",value:t.gender,onChange:function(e){return me.setGender(e.target.value)},children:[Object(i.jsx)(we.a,{value:H,children:"All"}),Object(i.jsx)(we.a,{value:D,children:"Male"}),Object(i.jsx)(we.a,{value:J,children:"Female"})]})]})}),Object(i.jsx)(b.a,{item:!0,xs:12,sm:12,md:6,xl:4,children:Object(i.jsx)(pe.a,{value:t.nationality,onChange:function(e){return me.setNat(e.target.value)},className:e.input_item,placeholder:"Search by nationality"})}),Object(i.jsx)(B.a,{fullWidth:!0,className:e.clear_btn,onClick:function(){me.setSearchText(""),me.setGender(H),me.setNat("")},children:"Clear"})]})})})})),Te=a(162),Me=a(163),Ie=Object(O.a)((function(e){return{card:{whiteSpace:"pre-line",minHeight:e.spacing(20),textAlign:"center",marginTop:e.spacing(1)},avatar:{width:e.spacing(15),height:e.spacing(15),margin:"0 auto"},nat:{textTransform:"none",minWidth:e.spacing(15)}}})),Le=function(e){var t=e.data,a=Ie();return Object(i.jsx)(b.a,{container:!0,className:a.card,"data-testid":"contacts-grid-container",children:t.map((function(e){return Object(i.jsx)(b.a,{item:!0,xs:12,lg:3,sm:6,children:Object(i.jsx)(Te.a,{variant:"outlined",children:Object(i.jsxs)(Me.a,{children:[Object(i.jsx)(w.a,{variant:"rounded",src:e.picture.thumbnail,className:a.avatar}),Object(i.jsx)(k.a,{children:"".concat(e.name.title," ").concat(e.name.first," ").concat(e.name.last)}),Object(i.jsx)(B.a,{className:a.nat,onClick:function(){return me.setNat(le[e.nat])},style:{borderColor:je[e.nat],color:je[e.nat]},children:le[e.nat]}),Object(i.jsx)(k.a,{children:Object(S.a)(Object(F.a)(e.dob.date),"MM/dd/yyyy")}),Object(i.jsx)(k.a,{children:"".concat(e.dob.age," years")}),Object(i.jsxs)(k.a,{children:[Object(i.jsx)(_,{text:e.email})," "]}),Object(i.jsx)(_,{text:e.phone}),Object(i.jsx)(k.a,{children:Object(i.jsx)(_,{blackcolor:!0,text:"/".concat(e.location.country,"/ \n\t\t\t   ").concat(e.location.street.name," ").concat(e.location.street.number)})})]})})},e.login.uuid)}))})},Ae=a(85),Pe=a.n(Ae),ze=a(165),Ve=a(169),We=a(83),_e=a.n(We),Re=a(84),Ge=a.n(Re),He=a(164),De=a(182),Je=Object(Se.a)((function(){return Object(i.jsxs)(De.a,{size:"small",orientation:"horizontal",value:me.dataViewMode,exclusive:!0,onChange:function(e,t){t&&me.setViewMode(t)},children:[Object(i.jsx)(He.a,{value:R,"aria-label":R,"data-testid":"toggle-data-view-mode-table",children:Object(i.jsx)(_e.a,{})}),Object(i.jsx)(He.a,{value:G,"aria-label":G,"data-testid":"toggle-data-view-mode-grid",children:Object(i.jsx)(Ge.a,{})})]})})),Ue=Object(O.a)((function(e){return Object(h.a)({headContainer:{marginTop:e.spacing(2)},refresh_button:{marginRight:e.spacing(1)}})})),Ze=function(){var e=Ue(),t=me.getContacts;return Object(i.jsx)(b.a,{item:!0,xs:12,className:e.headContainer,children:Object(i.jsxs)(Ve.a,{display:"flex",justifyContent:"space-between",children:[Object(i.jsx)(k.a,{variant:"h5",component:"h1",children:"Contacts"}),Object(i.jsxs)(Ve.a,{display:"flex",children:[Object(i.jsx)(ze.a,{className:e.refresh_button,"aria-label":"refresh",onClick:function(){return t()},children:Object(i.jsx)(Pe.a,{})}),Object(i.jsx)(Je,{})]})]})})},Ke=a(68),qe=function(e,t){var a=Object(s.useState)(e),n=Object(j.a)(a,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c.toLowerCase()},Qe=Object(O.a)((function(e){return{paper:{padding:e.spacing(3)},predominate:{fontWeight:500,backgroundColor:"yellow",marginLeft:e.spacing(19)},grey:{"&>*":{color:"grey",borderBottom:"none"}},natCollection:{justifyContent:"center","& >*":{whiteSpace:"pre","&>*":{justifyContent:"center"}}}}})),Xe=function(){var e=[me.users.reduce((function(e,t){e.collectionSize+=1,"male"===t.gender?e.males+=1:"female"===t.gender?e.females+=1:e.indeterminate+=1;var a=le[t.nat]||t.nat;return e.natCollection[a]?e.natCollection[a]+=1:e.natCollection[a]=1,e}),{collectionSize:0,males:0,females:0,indeterminate:0,natCollection:[]})],t=Object(j.a)(e,1)[0],a=t.males,n=t.females,c=t.collectionSize,r=t.indeterminate,s=t.natCollection,o=Qe();return Object(i.jsxs)(f.a,{variant:"outlined","data-testid":"statictic-container",className:o.paper,children:[Object(i.jsx)(k.a,{variant:"h6",children:"Statistic"}),Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsxs)(b.a,{item:!0,xs:5,children:[Object(i.jsxs)(g.a,{children:[Object(i.jsx)(p.a,{children:Object(i.jsxs)(C.a,{className:o.grey,children:[Object(i.jsx)(y.a,{children:" Collection Size"}),Object(i.jsx)(y.a,{children:" Male"}),Object(i.jsx)(y.a,{children:" Females"}),Object(i.jsx)(y.a,{children:" Indeterminate"})]})}),Object(i.jsx)(N.a,{children:Object(i.jsxs)(C.a,{children:[Object(i.jsxs)(y.a,{children:[" ",c]}),Object(i.jsxs)(y.a,{children:[" ",a]}),Object(i.jsxs)(y.a,{children:[" ",n]}),Object(i.jsxs)(y.a,{children:[" ",r]})]})})]}),Object(i.jsx)(k.a,{noWrap:!0,display:"inline",className:o.predominate,children:a===n?null:a>n?"Men predominate":"Women predominate"})]}),Object(i.jsxs)(b.a,{container:!0,className:o.natCollection,children:[Object(i.jsx)(b.a,{children:Object(i.jsx)(k.a,{style:{color:"grey"},children:"Nationalities"})}),Object(i.jsx)(b.a,{container:!0,children:Object.keys(s).sort().map((function(e){return Object(i.jsxs)(b.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:[Object(i.jsx)("span",{style:{fontWeight:800},children:e}),Object(i.jsx)("span",{children:1===s[e]?"  ".concat(s[e]," contact"):"  ".concat(s[e]," contacts")})]},e)}))})]})]})]})},Ye=Object(O.a)((function(e){return Object(h.a)({root:{"&>*":{justifyContent:"center"}},headContainer:{marginTop:e.spacing(2)},content:{marginBottom:e.spacing(2)}})})),$e=Object(Se.a)((function(){var e=Ye(),t=me.isLoading,a=me.isError,n=me.dataViewMode,c=me.currentPage,r=function(){var e=me.users,t=me.filter,a=me.currentPage,n=me.orderBy,c=qe(t.searchText,500),r=qe(t.nationality,500),i=Object(s.useState)([]),o=Object(j.a)(i,2),l=o[0],d=o[1];Object(s.useEffect)((function(){d(e.filter((function(e){return"all"===t.gender||e.gender===t.gender})).filter((function(e){return!!(e.name.first+" "+e.name.last).toLowerCase().includes(c)})).filter((function(e){return!!le[e.nat].toLowerCase().includes(r)})))}),[c,r,t.gender,e]),Object(s.useEffect)((function(){d(e)}),[e]);var b=function(){switch(n.order){case"asc":return Object(Ke.a)(l).sort((function(e,t){return e.name.first.localeCompare(t.name.first)}));case"desc":return Object(Ke.a)(l).sort((function(e,t){return t.name.first.localeCompare(e.name.first)}));default:return l}}(),u=Math.ceil(b.length/8),O=8*a,h=O-8,x=b.slice(h,O);return Object(s.useEffect)((function(){me.setCurrentPage(1)}),[l]),Object(s.useEffect)((function(){me.getContacts()}),[]),Object(s.useEffect)((function(){localStorage.setItem("dataViewMode",me.dataViewMode)})),[x,u,function(e,t){me.setCurrentPage(t)},function(){""===n.order?me.setOrderBy("asc",!1):"asc"===n.order?me.setOrderBy("desc",!1):me.setOrderBy("",!0)}]}(),o=Object(j.a)(r,4),l=o[0],O=o[1],h=o[2],m=o[3];return Object(i.jsx)(d.a,{className:e.root,children:Object(i.jsxs)(b.a,{container:!0,children:[Object(i.jsx)(Ze,{}),Object(i.jsx)(b.a,{item:!0,xs:12,children:Object(i.jsx)(Ee,{})}),Object(i.jsx)(x.a,{page:c,onChange:h,count:O}),Object(i.jsx)(b.a,{item:!0,xs:12,className:e.content,children:t?Object(i.jsx)(u.a,{"data-testid":"contacts-loader"}):a?Object(i.jsx)("div",{"data-testid":"contacts-error",children:" Fetch Error "}):n===R?Object(i.jsx)(ge,{orderHandler:m,data:l}):Object(i.jsx)(Le,{data:l})}),!1===t?Object(i.jsx)(Xe,{}):null]})})}));function et(){return Object(i.jsx)("div",{children:Object(i.jsx)($e,{})})}var tt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};l.a.render(Object(i.jsx)(et,{}),document.getElementById("root")),tt()}},[[111,1,2]]]);
//# sourceMappingURL=main.9f2f1f6c.chunk.js.map